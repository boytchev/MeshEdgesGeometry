<!DOCTYPE html>


<html>


<head>
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

	<link rel="shortcut icon" type="image/png" href="../assets/logo/logo.png"/>
	<link rel="stylesheet" href="styles.css">

	<script type="importmap">
	  {
		"imports": {
			"three": "https://cdn.jsdelivr.net/npm/three@0.166.0/build/three.module.js",
			"three/addons/": "https://cdn.jsdelivr.net/npm/three@0.166.0/examples/jsm/"
		}
	  }
	</script>
</head>


<body>
	<div class="footnote bottomfixed">
		<a href="../">Home</a>
	</div>
	
	<script type="module">

import * as THREE from "three";
import { OrbitControls } from "three/addons/controls/OrbitControls.js";
import { GLTFLoader } from "three/addons/loaders/GLTFLoader.js";
import { MeshEdgesGeometry } from "../src/MeshEdgesGeometry.js";


// general setup, boring, skip to the next comment

console.clear( );

var scene = new THREE.Scene();
    scene.background = new THREE.Color( 0xf0f0f0 );

var camera = new THREE.PerspectiveCamera( 30, innerWidth/innerHeight );
    camera.position.set( 0, 2, 10 );

var renderer = new THREE.WebGLRenderer( {antialias: true} );
    renderer.setSize( innerWidth, innerHeight );
	renderer.outputColorSpace = THREE.LinearSRGBColorSpace;
    renderer.setAnimationLoop( animationLoop );
    document.body.appendChild( renderer.domElement );
			
window.addEventListener( "resize", (event) => {
    camera.aspect = innerWidth/innerHeight;
    camera.updateProjectionMatrix( );
    renderer.setSize( innerWidth, innerHeight );
});

var controls = new OrbitControls( camera, renderer.domElement );
    controls.enableDamping = true;
		controls.autoRotate = true;
		controls.autoRotateSpeed = 0.3;


var a = new THREE.Mesh(
	new THREE.BoxGeometry( 2, 2, 2 ),
	new THREE.MeshNormalMaterial( )
);

var b = new THREE.LineSegments(
			new MeshEdgesGeometry( a, 1, !true ),
			new THREE.LineBasicMaterial( {color:'crimson'})
	)
scene.add( b );

var light = new THREE.DirectionalLight('white',10);
scene.add(light);
scene.fog = new THREE.Fog(scene.background,7,12);

// load a GLTF model 
//
// Car Kit (1.4)
// Created/distributed by Kenney (www.kenney.nl)
// License: (Creative Commons Zero, CC0)
// http://creativecommons.org/publicdomain/zero/1.0/
var modelURL = 'https://boytchev.github.io/suica/assets/models/cars/tractor.glb';
var newModel = new THREE.Group();

var loader = new GLTFLoader();
		loader.load( modelURL, gltf => {
				let model = gltf.scene;
				model.position.y = -0.5;
				// build combined geometry
				newModel = new THREE.LineSegments(
							new MeshEdgesGeometry( model,10 ),
							new THREE.LineBasicMaterial( {color:'black',opacity:0.2,transparent:!true})
					)
				scene.add( 
				//model,
				newModel 
				);
			console.log(model)
		} );
		
function animationLoop( t )
{
    controls.update( );
	light.position.copy( camera.position )
    renderer.render( scene, camera );
}

	
	</script>
</body>
</html>